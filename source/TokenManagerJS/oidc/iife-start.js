(function () {

    // globals
    var _promiseFactory; // TODO set default value
    var _httpRequest;